(()=>{"use strict";var e=function(e){if(screen.width<768)return e.style.display="block",void(e.style.opacity="1");var t=Date.now();e.style.display="block";var n=setInterval((function(){var o=Date.now()-t,r="".concat((o/3).toFixed(0));e.style.opacity=r>1?1:r,o>=1e3&&clearInterval(n)}),10)},t=function(e){e.style.display="none",e.style.opacity="0"};const n=function(e,t){e.preventDefault(),("#"===t.getAttribute("href")?document.body:document.getElementById(t.getAttribute("href").substring(1))).scrollIntoView({behavior:"smooth",block:"start"})};function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var r,l,c,a,i,s,u,d,y,v;r=document.querySelector(".modal-callback"),l=document.querySelector(".modal-overlay"),c=document.querySelector("#responseMessage"),t(r),t(l),document.addEventListener("click",(function(n){var o=n.target;o.classList.contains("callback-btn")||o.classList.contains("button-services")||'"Оформить заявку"'===window.getComputedStyle(o,":before").content?(e(r),e(l)):o.closest(".modal-close")?(t(r),t(l)):o.classList.contains("fancyClose")||o.closest(".fancyClose")?(n.preventDefault(),t(c),t(l)):o.closest("#responseMessage")||"block"!==c.style.display||"none"===c.querySelector(".fancyClose").style.display?o.closest(".modal-callback")||"block"!==r.style.display||(t(r),t(l)):(t(c),t(l))})),y=document.querySelector(".mobile-menu"),v=function(){y.classList.toggle("open")},document.body.addEventListener("click",(function(e){var t=e.target;t.classList.contains(".mob-menu-btn")||t.closest(".mob-menu-btn")||t.classList.contains("mobile-menu-close")||t.classList.contains("callback-btn")||!t.closest(".mobile-menu")&&y.classList.contains("open")?v():t.closest(".mobile-menu > ul > li > a")?(t=t.closest(".mobile-menu > ul > li > a"),n(e,t),v()):t.closest(".top-menu > ul > li > a")&&(t=t.closest(".top-menu > ul > li > a"),n(e,t),v())})),function(){var e=document.querySelector(".logo > a");e.addEventListener("click",(function(t){n(t,e)}));var t=document.querySelector(".up");t.style.display="none",t.addEventListener("click",(function(t){n(t,e)})),window.addEventListener("scroll",(function(){window.scrollY>=document.getElementById("services").getBoundingClientRect().top-document.body.getBoundingClientRect().top?t.style.display="block":t.style.display="none"}))}(),function(){var e=document.querySelectorAll(".item"),t=document.querySelector(".slick-dots"),n=document.querySelector(".top-slider"),o=document.querySelectorAll(".slick-dots li"),r=document.querySelectorAll(".top-slider .table");o.forEach((function(e){e.remove()}));for(var l=0;l<e.length;l++){var c=o[0].cloneNode();c.classList.remove("slick-active"),t.insertAdjacentElement("beforeend",c)}o=document.querySelectorAll(".slick-dots li");var a,i=0,s=function(e,t,n){e[t].classList.remove(n)},u=function(e,t,n){e[t].classList.add(n)},d=function(){s(e,i,"item-active"),s(o,i,"slick-active"),s(r,i,"active"),++i>=e.length&&(i=0),u(e,i,"item-active"),u(o,i,"slick-active"),u(r,i,"active")},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;a=setInterval(d,e)};n.addEventListener("click",(function(t){t.preventDefault();var n=t.target;n.matches(".slick-dots li")&&(s(e,i,"item-active"),s(o,i,"slick-active"),s(r,i,"active"),o.forEach((function(e,t){e===n&&(i=t)})),u(e,i,"item-active"),u(o,i,"slick-active"),u(r,i,"active"))})),n.addEventListener("mouseover",(function(e){e.target.matches(".slick-dots li")&&clearInterval(a)})),n.addEventListener("mouseout",(function(e){e.target.matches(".slick-dots li")&&y(3e3)})),y(3e3)}(),a=0,i=document.querySelector(".services-section"),s=document.querySelector(".services-carousel"),u=s.querySelectorAll(".col-sm-6"),(d=function(){var e,t;(s=document.querySelector(".services-carousel")).querySelectorAll(".col-sm-6").forEach((function(e){e.remove()})),a<0?(e=(a=u.length-1)-1,t=0):0===a?(e=u.length-1,t=a+1):a===u.length?(a=0,e=u.length-1,t=a+1):a===u.length-1?(e=a-1,t=0):(t=a+1,e=a-1);var n=screen.width<768?1:screen.width<992?2:3;1===n?s.append(u[a]):2===n?(s.append(u[a]),s.append(u[t])):3===n&&(s.append(u[e]),s.append(u[a]),s.append(u[t]))})(),i.addEventListener("click",(function(e){var t=e.target;t.classList.contains("arrow-left")?(a--,d()):t.classList.contains("arrow-right")&&(a++,d())})),window.addEventListener("resize",(function(){d()})),function(){var e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element");e.addEventListener("click",(function(e){var n,o=e.target;(o.classList.contains(".title")||o.closest(".title"))&&(n=o.closest(".element"),t.forEach((function(e){var t=e.querySelector(".element-content");e!==n?(e.classList.remove("active"),t.style.display="none"):(e.classList.add("active"),t.style.display="block")})))}))}(),document.body.addEventListener("input",(function(e){var t=e.target;if("INPUT"===t.tagName){if(t.classList.contains("calc-item")&&!t.classList.contains("calc-type")){var n=t.value;t.value=n.replace(/\D+/g,"")}"fio"===t.getAttribute("name")&&function(e){var t=e.value;e.value=t.replace(/[^ А-Яа-я]+/g,"")}(t),"tel"===t.getAttribute("name")&&function(e){var t=e.value;e.value=t.replace(/[^+\d)(]+/g,"")}(t)}})),document.body.addEventListener("focusout",(function(e){var t,n,o=e.target;"INPUT"===o.tagName&&(n=(n=(n=(n=(t=o).value).replace(/^[ -]+|[ -]+$/g,"")).replace(/(-+)/g,"-")).replace(/( +)/g," "),t.value=n,"text"===o.getAttribute("name")&&function(e){var t=e.value;e.value=t.substring(0,1).toUpperCase()+t.substring(1).toLowerCase()}(o))})),function(){var n=document.querySelector("#responseMessage"),r=document.querySelector(".modal-overlay"),l="Спасибо! мы скоро с вами свяжемся!",c=document.querySelector(".rf > form"),a=document.createElement("div");a.textContent="Введите данные правильно!",a.classList.add("error");var i=function(c){if(function(e){for(var t=e.querySelectorAll("input"),n=0;n<t.length;n++)if("tel"===t[n].type){var o=t[n].value.replace(/[+()]+/g,"");if(o.length<7||o.length>11)return null===t[n].parentNode.querySelector(".error")&&t[n].parentNode.appendChild(a),!1;null!==t[n].parentNode.querySelector(".error")&&t[n].parentNode.querySelector(".error").remove()}else{if("text"===t[n].type&&t[n].value.length<2)return null===t[n].parentNode.querySelector(".error")&&t[n].parentNode.appendChild(a),!1;null!==t[n].parentNode.querySelector(".error")&&t[n].parentNode.querySelector(".error").remove()}return!0}(c)){var i,s={},u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw c}}}}(new FormData(c).entries());try{for(u.s();!(i=u.n()).done;){var d=i.value;s[d[0]]=d[1]}}catch(e){u.e(e)}finally{u.f()}c.reset(),setTimeout((function(){var o=c.closest(".modal-callback");o&&(t(o),n.querySelector(".modal-content").textContent="Отправка сообщения...",n.querySelector(".fancyClose").style.display="none",e(n))}),1e3),function(e){return fetch("./server.php",{method:"POST",mode:"same-origin",cache:"default",credentials:"same-origin",headers:{"Content-type":"application/json"},redirect:"follow",referrer:"client",body:JSON.stringify(e)})}(s).then((function(o){if(200!==o.status)throw new Error("status network not 200");a.textContent=l,setTimeout((function(){"block"===n.style.display&&(t(n),n.querySelector(".fancyClose").style.display="inline-block"),n.querySelector(".modal-content").textContent=l,e(n),e(r)}),1e3)})).catch((function(o){console.error(o),setTimeout((function(){"block"===n.style.display&&(t(n),n.querySelector(".fancyClose").style.display="inline-block"),n.querySelector(".modal-content").textContent="Что-то пошло не так...",e(n),e(r)}),1e3)}))}};c.addEventListener("submit",(function(e){e.preventDefault(),i(c)}))}()})();